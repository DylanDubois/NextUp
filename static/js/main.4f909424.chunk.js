(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{167:function(e,t,a){"use strict";a.r(t);a(83),a(58),a(84),a(85);var n=a(0),s=a.n(n),l=a(75),r=a.n(l),i=(a(90),a(33)),o=a(34),c=a(36),u=a(35),m=a(37),d=(a(91),a(92),a(93),a(76)),h=a.n(d),g=a(80),p=a.n(g),f=a(81),b=a.n(f),v=function(e){if(!e.songs)return null;var t=Object.keys(e.songs).reverse().map(function(t){var a=e.songs[t],n=s.a.createElement(p.a,{fontSize:"30px",color:"#FF1493",onClick:function(){return e.likeSong(a)}});return e.user&&a.likes&&a.likes.includes(e.user.uid)&&(n=s.a.createElement(h.a,{fontSize:"30px",color:"#FF1493",onClick:function(){return e.dislikeSong(a)}})),s.a.createElement("div",{className:"bg-dark row m-0 pt-2 pb-2 text-left list-item text-primary",key:a.id},s.a.createElement("div",{className:"col-10 col-md-11"},s.a.createElement("a",{href:a.url},s.a.createElement("h2",{className:"brand"},a.title," - ",a.artist," ",a.likes&&a.likes.length>=3&&s.a.createElement(b.a,{fontSize:"25px",color:"#e27822"}))),s.a.createElement("h5",{className:"header"},a.poster)),s.a.createElement("div",{className:"col-2 col-md-1 text-center like-button"},n,s.a.createElement("h5",{className:"header"},a.likes?a.likes.length:0)))});return s.a.createElement("div",{className:"bg-dark max-height SongList"},s.a.createElement("div",{className:"list"},t))},k=a(26),E=a.n(k),N=E.a.initializeApp({apiKey:"AIzaSyBZgI1DfP9GVTwxajGox48qaYNH0aKk7k0",authDomain:"nextup-15f4c.firebaseapp.com",databaseURL:"https://nextup-15f4c.firebaseio.com",projectId:"nextup-15f4c",storageBucket:"nextup-15f4c.appspot.com",messagingSenderId:"923940393576"}),y=new E.a.auth.GoogleAuthProvider,S=function(){E.a.auth().signInWithPopup(y).then(function(e){}).catch(function(e){})},x=function(){E.a.auth().signOut().then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},w=N,C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={songs:[],title:"",artist:"",url:"",poster:"",user:{uid:null}},a.handleNameChange=function(e){a.setState({title:e.target.value})},a.handleEstimationChange=function(e){a.setState({artist:e.target.value})},a.handleTasksChange=function(e){a.setState({url:e.target.value})},a.handleSubmit=function(e){e.preventDefault()},a.submitSong=function(){if(a.state.artist)if(a.state.title)if(a.state.url.includes("youtube.com")){var e=(new Date).getTime()-155e10,t={title:a.state.title,artist:a.state.artist,url:a.state.url,poster:a.state.user.displayName,id:e,likes:[a.state.user.uid]};a.setState({title:"",artist:"",url:""}),w.database().ref("/songs/"+e).update(t)}else alert("Must provide YouTube URL.");else alert("Must include song title.");else alert("Must include artist name.")},a.likeSong=function(e){if(a.state.user){var t=w.database().ref("/songs/"+e.id+"/likes/");e.likes||(e.likes=[]),e.likes.push(a.state.user.uid),t.update(e.likes)}else alert("Please sign-in to like songs.")},a.dislikeSong=function(e){a.state.user.uid&&w.database().ref("/songs/"+e.id+"/likes/"+e.likes.indexOf(a.state.user.uid)).remove()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.state.user!==e.user&&this.setState({user:e.user}),this.state.songs!==e.songs&&this.setState({songs:e.songs})}},{key:"componentDidUpdate",value:function(e,t){t.user!==e.user&&this.setState({user:e.user})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"jumbotron-fluid bg-primary text-primary p-5 text-left gradient border-bottom border-primary"},s.a.createElement("h1",{className:"display-2 brand ml-md-5 ml-sm-0"},"NextUp"),s.a.createElement("h2",{className:"header ml-md-5 ml-sm-0"},"Share. Like. Listen."),!this.state.user&&s.a.createElement("p",{className:"lead ml-md-5 ml-sm-0"},s.a.createElement("a",{className:"btn btn-outline-primary btn-lg mt-3 header",href:"#",role:"button",onClick:this.props.signIn},"Sign-In")),this.state.user&&s.a.createElement("p",{className:"lead ml-md-5 ml-sm-0"},s.a.createElement("a",{className:"btn btn-outline-primary btn-lg mt-3 header",href:"#",role:"button","data-toggle":"modal","data-target":"#exampleModal"},"Add Song"),s.a.createElement("a",{className:"btn btn-outline-primary btn-lg mt-3 ml-4 header",href:"#",role:"button",onClick:this.props.signOut},"Sign Out"))),s.a.createElement(v,{songs:this.state.songs,likeSong:this.likeSong,dislikeSong:this.dislikeSong,user:this.state.user}),s.a.createElement("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",role:"document"},s.a.createElement("div",{className:"modal-content bg-dark"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title text-primary header"},"Add Song"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{className:"row"},s.a.createElement("div",{className:"form-group col-12"},s.a.createElement("input",{type:"text",className:"form-control",id:"title","aria-describedby":"name",placeholder:"Song Name",value:this.state.title,onChange:this.handleNameChange})),s.a.createElement("div",{className:"form-group col-12"},s.a.createElement("input",{type:"text",className:"form-control",id:"effort",placeholder:"Artist",value:this.state.artist,onChange:this.handleEstimationChange})),s.a.createElement("div",{className:"form-group col-12 m-0"},s.a.createElement("input",{type:"text",className:"form-control",id:"task",placeholder:"YouTube URL",value:this.state.url,onChange:this.handleTasksChange})))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-dark btn-outline-primary","data-dismiss":"modal",onClick:this.submitSong},"Add"))))))}}]),t}(n.Component),O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={user:{uid:null},songs:[]},a.authListener=function(){w.auth().onAuthStateChanged(function(e){e?a.setState({user:e}):a.setState({user:null})})},a.songsListener=function(){w.database().ref("/songs/").on("value",function(e){console.log(e.val()),a.setState({songs:e.val()})})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.authListener(),this.songsListener()}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.songs;return s.a.createElement("div",{className:"App"},s.a.createElement(C,{signIn:S,signOut:x,user:t,songs:a}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},82:function(e,t,a){e.exports=a(167)},90:function(e,t,a){},91:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},92:function(e,t,a){},93:function(e,t,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.4f909424.chunk.js.map